<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Monad Testnet Faucet</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            text-align: center;
            background-color: #f5f5f5;
        }
        .promo-container {
            background-color: #fff;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .promo-code {
            font-size: 24px;
            font-weight: bold;
            color: #2c3e50;
            margin: 10px 0;
        }
        .telegram-btn {
            display: inline-block;
            margin-top: 20px;
            background-color: #0088cc;
            color: white;
            padding: 10px 15px;
            border-radius: 5px;
            text-decoration: none;
            font-weight: bold;
        }
        .instructions {
            margin-top: 20px;
            text-align: left;
            background: #fff;
            padding: 15px;
            border-radius: 8px;
        }
    </style>
</head>
<body>
    <h1>Monad Testnet Faucet</h1>
    <p>Get your unique promo code below</p>
    
    <div class="promo-container">
        <h2>Your Promo Code</h2>
        <div class="promo-code" id="promoCode">Loading...</div>
        <p>This code is valid for your IP only</p>
    </div>
    
    <a href="https://t.me/uxxucc_bot" class="telegram-btn">Claim in Telegram</a>
    
    <div class="instructions">
        <h3>How to claim your 0.1 MON:</h3>
        <ol>
            <li>Copy your promo code above</li>
            <li>Open our Telegram bot: <strong>@uxxucc_bot</strong></li>
            <li>Send your code and wallet address like this:<br>
                <code>PROMO_CODE YOUR_WALLET_ADDRESS</code><br>
                Example: <code>N6VQ45 0x61b705852c7883d61fbee2b2582f52ef48dbb807</code>
            </li>
        </ol>
    </div>

    <script>
        // Generate random promo code
        function generateCode() {
            const chars = 'ABCDEFGHJKLMNPQRSTUVWXYZ23456789';
            let result = '';
            for (let i = 0; i < 6; i++) {
                result += chars.charAt(Math.floor(Math.random() * chars.length));
            }
            return result;
        }

        // Store code in localStorage and send to backend
        async function initPromoCode() {
            let code = localStorage.getItem('monad_promo_code');
            
            if (!code) {
                code = generateCode();
                localStorage.setItem('monad_promo_code', code);
                
                // Send to backend (replace with your actual endpoint)
                try {
                    const response = await fetch('https://your-backend-api.com/register-code', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({
                            code: code,
                            // In production, get real IP from your backend
                            ip_hash: 'user_ip_hash' 
                        })
                    });
                    
                    if (!response.ok) {
                        console.error('Failed to register code');
                    }
                } catch (error) {
                    console.error('Error registering code:', error);
                }
            }
            
            document.getElementById('promoCode').textContent = code;
        }

        // Initialize on page load
        window.addEventListener('DOMContentLoaded', initPromoCode);
    </script>
</body>
</html>